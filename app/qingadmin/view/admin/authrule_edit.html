{include file="public/head" /}

<body>

<article class="page-container">

	<form class="form form-horizontal" id="form-admin-add" action="" method="post">

	

	<div class="row cl">

		<label class="form-label col-xs-4 col-sm-3">上级规则：</label>

		<div class="formControls col-xs-8 col-sm-9"> <span class="select-box" style="width:150px;">

			<select class="select" name="parent_id" size="1">

				<option value="0">顶级权限</option>

				{volist name="$ruleDataTree" id="vo"}

				<option value="{$vo.id}" {if condition="$ruleData['parent_id'] eq $vo['id']"}selected=selected{/if}><?php echo str_repeat('-', $vo['level']*6)?>{$vo.title}</option>

				{/volist}

			</select>

			</span> </div>

	</div>



	<div class="row cl">

		<label class="form-label col-xs-4 col-sm-3">规则名：</label>

		<div class="formControls col-xs-8 col-sm-9">

			<input type="text" class="input-text" value="{$ruleData.title}" placeholder="" name="title" required="true">

			<input type="hidden" class="input-text" value="{$ruleData.id}" placeholder="" name="id" required="true">

		</div>

	</div>

	<div class="row cl">

		<label class="form-label col-xs-4 col-sm-3">规则：</label>

		<div class="formControls col-xs-8 col-sm-9">

			<input type="text" class="input-text" name="name" value="{$ruleData.name}" required="true">

		</div>

	</div>

	<div class="row cl">

		<label class="form-label col-xs-4 col-sm-3">图标：</label>

		<div class="formControls col-xs-8 col-sm-9">

			<input type="text" class="input-text" name="icon" value="{$ruleData.icon}" required="true">

		</div>

	</div>

	<div class="row cl">

		<label class="form-label col-xs-4 col-sm-3">排序：</label>

		<div class="formControls col-xs-8 col-sm-9">

			<input type="text" class="input-text" name="listorder" value="{$ruleData.listorder}" required="true">

		</div>

	</div>


	<div class="row cl">

		<label class="form-label col-xs-4 col-sm-3">状态：</label>

		<div class="formControls col-xs-8 col-sm-9">

			<input type="radio"  name="status" value="1" {if condition='$ruleData.status eq 1'}checked{/if}>&nbsp;显示
			<input type="radio"  name="status" value="0" {if condition='$ruleData.status eq 0'}checked{/if}>&nbsp;隐藏

		</div>

	</div>





	<div class="row cl">

		<div class="col-xs-8 col-sm-9 col-xs-offset-4 col-sm-offset-3">

			<input class="btn btn-primary radius" type="submit" value="&nbsp;&nbsp;提交&nbsp;&nbsp;">

		</div>

	</div>

	</form>

</article>



{include file="public/foot" /}



<!--请在下方写此页面业务相关的脚本-->

<script type="text/javascript" src="lib/jquery.validation/1.14.0/jquery.validate.js"></script> 

<script type="text/javascript" src="lib/jquery.validation/1.14.0/validate-methods.js"></script> 

<script type="text/javascript" src="lib/jquery.validation/1.14.0/messages_zh.js"></script> 

<script type="text/javascript">

$(function(){

	$('.skin-minimal input').iCheck({

		checkboxClass: 'icheckbox-blue',

		radioClass: 'iradio-blue',

		increaseArea: '20%'

	});

	

	$("#form-admin-add").validate({

		rules:{

			adminName:{

				required:true,

				minlength:4,

				maxlength:16

			},

			password:{

				required:true,

			},

			password2:{

				required:true,

				equalTo: "#password"

			},

			sex:{

				required:true,

			},

			phone:{

				required:true,

				isPhone:true,

			},

			email:{

				required:true,

				email:true,

			},

			adminRole:{

				required:true,

			},

		},

		onkeyup:false,

		focusCleanup:true,

		success:"valid",

		submitHandler:function(form){

			$(form).ajaxSubmit({

				type: 'post',

				url: "xxxxxxx" ,

				success: function(data){

					layer.msg('添加成功!',{icon:1,time:1000});

				},

                error: function(XmlHttpRequest, textStatus, errorThrown){

					layer.msg('error!',{icon:1,time:1000});

				}

			});

			var index = parent.layer.getFrameIndex(window.name);

			parent.$('.btn-refresh').click();

			parent.layer.close(index);

		}

	});

});

</script> 

<!--/请在上方写此页面业务相关的脚本-->

</body>

</html>